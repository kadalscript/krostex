<style>
#b_supplier_history_quotation_kode,
#b_supplier_history_quotation_kode_brg,
#b_supplier_history_quotation_penawaran_kode_valuta_cur,
#b_supplier_history_quotation_penawaran_kode_satuan_cur { width: 115px; float: left; margin-right: 10px; }
</style>
<%= form_for @supplier_history_quotation do |f| %>
  <table class="table table-bordered table-hover" width="60%" align="center">
    <thead class="thead">
      <tr class="titleJudul" style="font-size : 12pt">
        <th align="center" colspan="11"><%= form_title(action_name, @title) %></th>
      </tr>
      <tr class="blankSpot">
        <th colspan="11" align="left">&nbsp;
          <%= link_to ADD, "javascript:void(0)", class: "navigasi btn" %>
          <%= button_tag "Simpan", class: 'navigasi btn' %>
          <%= link_to CLOSE, "javascript:void(0)", class: "navigasi btn" %>
        </th>
      </tr>
      <tr>
        <td>
          <div style="width: 520px; float: left">
            <table class="table-consended">
              <tr>
                <td><%= f.label :kode, "supplier".upcase %></td>
                <td>
                  <%= f.select :kode, options_for_select(BSupplier.all.map { |supplier| [ supplier.kode, supplier.kode ] }), prompt: '- Supplier -'  %>
                  <%= text_field_tag :supplier_name, "- undefined -", style: 'width: 180px; float: left;', disabled: 'disabled' %>
                </td>
              </tr>
              <tr>
                <td><%= f.label :penawaran_tgl_cur, "tanggal".upcase %></td>
                <td><%= f.text_field :penawaran_tgl_cur, style: 'width: 305px;' %></td>
              </tr>
              <tr>
                <td><%= f.label :kode_brg, "Nama Barang".upcase %></td>
                <td>
                  <%= f.select :kode_brg, options_for_select(BBarang.all.map { |barang| [ barang.nama, barang.kode ] }), prompt: '- Barang -' %>
                  <%= text_field_tag :nama_barang, "- undefined -", style: 'width: 180px; float: left;', disabled: 'disabled' %>
                </td>
              </tr>
              <tr>
                <td><%= f.label :penawaran_kode_cur, "no penawaran".upcase %></td>
                <td><%= f.text_field :penawaran_kode_cur, style: 'width: 305px;' %></td>
              </tr>
              <tr>
                <td><%= f.label :penawaran_kode_valuta_cur, "valuta".upcase %></td>
                <td>
                  <%= f.select :penawaran_kode_valuta_cur, options_for_select(AMataUang.all.map { |mata_uang| [ mata_uang.nama, mata_uang.kode ] }), prompt: '- Valuta -' %>
                  <%= text_field_tag :mata_uang, "- undefined -", style: 'width: 180px; float: left;', disabled: 'disabled' %>
                </td>
              </tr>
              <tr>
                <td><%= f.label :penawaran_harga_cur, "harga".upcase %></td>
                <td><%= f.text_field :penawaran_harga_cur, style: 'width: 305px;' %></td>
              </tr>
              <tr>
                <td><%= f.label :penawaran_min_order_cur, "min order".upcase %></td>
                <td><%= f.text_field :penawaran_min_order_cur, style: 'width: 305px;' %></td>
              </tr>
              <tr>
                <td><%= f.label :penawaran_kode_satuan_cur, "satuan".upcase %></td>
                <td>
                  <%= f.select :penawaran_kode_satuan_cur, options_for_select(ASatuan.all.map { |satuan| [ satuan.nama, satuan.simbol ] }), prompt: '- Satuan -' %>
                  <%= text_field_tag :satuan, "- undefined -", style: 'width: 180px; float: left;', disabled: 'disabled' %>
                </td>
              </tr>
              <tr>
                <td><%= f.label :penawaran_waktu_kirim_cur, "waktu kirim".upcase %></td>
                <td><%= f.text_field :penawaran_min_order_cur, style: 'width: 255px;' %>&nbsp HARI</td>
              </tr>
            </table>
          </div>
          <div style="width: 750px; float: left">
            <h4>HISTORY</h4>
            <table>
              <thead>
                <% @right_table_columns.each do |column| %>
                  <th><%= column.upcase %></th>
                <% end %>
              </thead>
              <tbody>
                <tr>
                  <td><input type="text" style="width: 25px" value="01" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td>
                    <input type="text" style="width: 30px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left;" /> &nbsp HARI
                  </td>
                </tr>
                <tr>
                  <td><input type="text" style="width: 25px" value="02" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td>
                    <input type="text" style="width: 30px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left;" /> &nbsp HARI
                  </td>
                </tr>
                <tr>
                  <td><input type="text" style="width: 25px" value="03" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td>
                    <input type="text" style="width: 30px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left;" /> &nbsp HARI
                  </td>
                </tr>
                <tr>
                  <td><input type="text" style="width: 25px" value="04" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td><input type="text" style="width: 100px" /></td>
                  <td>
                    <input type="text" style="width: 30px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left; margin-right: 5px;" />
                    <input type="text" style="width: 50px; float: left;" />
                  </td>
                  <td>
                    <input type="text" style="width: 50px; float: left;" /> &nbsp HARI
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </td>
      </tr>
  </table>
<% end %>

<script>
var supplier_id = $('#b_supplier_history_quotation_kode');
var tanggal_current = $('#b_supplier_history_quotation_penawaran_tgl_cur');
var kode_brg = $('#b_supplier_history_quotation_kode_brg');
var valuta_id = $('#b_supplier_history_quotation_penawaran_kode_valuta_cur');

supplier_id.change(function() {
  $.ajax({
    url: '<%= get_suppliers_b_supplier_history_quotations_path %>?id=' + supplier_id.val()
  });
});

kode_brg.change(function() {
  $.ajax({
    url: '<%= get_barangs_b_supplier_history_quotations_path %>?id=' + kode_brg.val()
  });
});

tanggal_current.datepicker();

valuta_id.change(function() {
  $.ajax({
  });
});
</script>